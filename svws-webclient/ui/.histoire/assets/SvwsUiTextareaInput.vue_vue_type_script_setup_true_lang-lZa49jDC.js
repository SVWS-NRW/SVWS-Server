import{d as $,p as g,s as p,av as b,c as l,ax as I,i,ay as N,f as u,aF as D,u as d,aR as c,e as T,_ as E,w as x,g as P,t as V,n as k,o as s}from"./index-Ypxb2S-y.js";const R=["id"],U=["disabled","required","rows"],H=["id"],M=["id"],O={key:2,class:"icon-xs i-ri-asterisk textarea-input--placeholder--required textarea-input--state-icon","aria-hidden":""},Z={key:3,class:"sr-only"},j={key:4,class:"icon i-ri-alert-line textarea-input--state-icon"},A=["id"],G={key:0,class:"icon i-ri-alert-fill textarea-input--state-icon"},K=$({__name:"SvwsUiTextareaInput",props:{modelValue:{default:""},placeholder:{default:""},valid:{type:Function,default:()=>!0},statistics:{type:Boolean,default:!1},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},resizeable:{default:"vertical"},autoresize:{type:Boolean,default:!1},cols:{default:80},rows:{default:3},maxLen:{default:void 0},span:{default:void 0},headless:{type:Boolean,default:!1},isContentFocusField:{type:Boolean,default:!1}},emits:["update:modelValue","change","blur","input"],setup(z,{expose:w,emit:q}){const n=z,r=q,a=g(n.modelValue),B=c(),L=c(),f=c(),v=p({get:()=>a.value===null?"":a.value,set:e=>a.value=e===""?null:e}),o=g(null);b(()=>n.modelValue,e=>h(e),{immediate:!1});const m=p(()=>{let e=!0;return n.required&&(a.value===null||a.value==="")?!1:(y.value||(e=!1),e&&(e=n.valid(a.value)),e)});function h(e){a.value!==e&&(a.value=e,r("update:modelValue",a.value))}const y=p(()=>n.maxLen===void 0||a.value===null?!0:a.value.toLocaleString().length<=n.maxLen);b(a,()=>{o.value!==null&&(o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight+12}px`)},{immediate:!0});function F(e){const t=e.target.value;r("input",t),t!==a.value&&h(t)}function C(){n.modelValue!==a.value&&r("change",a.value),r("blur",a.value)}return w({content:a}),(e,t)=>{const S=E;return s(),l("label",{id:d(B),class:k(["textarea-input",{"textarea-input--filled":a.value,"textarea-input--invalid":!m.value,"textarea-input--disabled":e.disabled,"textarea-input--statistics":e.statistics,"textarea-input--resize-none":e.resizeable==="none","textarea-input--resize-horizontal":e.resizeable==="horizontal","textarea-input--resize-vertical":e.resizeable==="vertical","textarea-input--resize-both":e.resizeable==="both","textarea-input--headless":e.headless,"col-span-full":e.span==="full",grow:e.span==="grow"}])},[I(u("textarea",D({ref_key:"textarea",ref:o,"onUpdate:modelValue":t[0]||(t[0]=_=>v.value=_),onInput:F,onBlur:C,class:"textarea-input--control",disabled:e.disabled,required:e.required,rows:e.rows},{...e.$attrs},{class:{contentFocusField:e.isContentFocusField}}),null,16,U),[[N,v.value]]),e.placeholder.length>0?(s(),l("span",{key:0,id:d(L),class:"textarea-input--placeholder"},[e.statistics?(s(),l("span",{key:0,id:d(f),class:"cursor-pointer"},[T(S,{position:"right"},{content:x(()=>t[1]||(t[1]=[P(" Relevant fÃ¼r die Statistik ")])),default:x(()=>[t[2]||(t[2]=u("span",{class:"inline-flex items-center"},[u("span",{class:"icon i-ri-bar-chart-2-line textarea-input--statistic-icon"})],-1))]),_:1,__:[2]})],8,M)):i("",!0),u("span",null,V(e.placeholder),1),e.maxLen>0&&a.value!==null?(s(),l("span",{key:1,class:k(["inline-flex gap-1",y.value?"opacity-50":"text-ui-danger"])},V(`(${a.value.toLocaleString().length>0?a.value.toLocaleString().length+"/":"maximal "}${e.maxLen} Zeichen)`),3)):i("",!0),e.required?(s(),l("span",O)):i("",!0),e.required?(s(),l("span",Z,"erforderlich")):i("",!0),m.value===!1&&!e.required?(s(),l("span",j)):i("",!0),e.statistics?(s(),l("span",{key:5,id:d(f),class:"cursor-pointer"},[e.required&&a.value===""||a.value===null?(s(),l("span",G)):i("",!0)],8,A)):i("",!0)],8,H)):i("",!0)],10,R)}}});export{K as _};
